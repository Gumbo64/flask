{% extends 'base.html' %}

{% block header %}
<h1>Wafer factory</h1>
<p>Playing as {{ username }}</p>
{% endblock %}

{% block text %}
<!doctype html>
<title>jQuery Example</title>
<script type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript">
  var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
<script type="text/javascript">
var intervalID = setInterval(update_values,1000);
  function update_values() {
      $.getJSON($SCRIPT_ROOT + '/_waferrequest',

      function(data) {
        $('#Wafers').text(data.Wafers);
        $('#Multiplier').text(data.Multiplier);
        console.log(data)
      });

    };

   
    
    
    function stopTextColor() {
      clearInterval(intervalID);
    }
    
</script>
<body onload="update_values();">
<h1>Wafers</h1>
<!--variable is displayed as paragraph-->
<p>
    <span id="Wafers">?</span>
<script>
document.getElementById("Wafers").innerHTML;
</script>
<h1>Multiplier</h1>
<p>{{ multiplier }}</p>

	<button onclick="stopTextColor();">Stop updating</button>
	</body>
{% endblock %}
